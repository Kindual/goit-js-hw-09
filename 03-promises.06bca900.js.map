{"mappings":"AAAA,MAAMA,EAAO,CACXC,OAAQC,SAASC,cAAc,SAC/BC,QAASF,SAASC,cAAc,gBAChCE,OAAQH,SAASC,cAAc,eAC/BG,SAAUJ,SAASC,cAAc,kBAGnCH,EAAKC,OAAOM,iBAAiB,UAG7B,SAAoBC,GAMlB,GALAA,EAAGC,iBACHC,MAAQC,OAAOX,EAAKI,QAAQQ,OAC5BC,UAAYF,OAAOX,EAAKK,OAAOO,OAC/BE,SAAWd,EAAKM,SAASM,MAErBG,EAAU,EACZ,OAIF,GAFAA,GAAWD,SAEPJ,OAAS,GAAKG,UAAY,GAAKC,SAAW,EAEV,YADlCE,MAAM,yCAIR,IAAK,IAAIC,EAAI,EAAGA,GAAKH,SAAUG,IAC7BC,EAAcD,EAAGP,OACdS,MAAKC,IACJC,QAAQC,IAAIF,GACZL,GAAW,CAAC,IAEbQ,OAAMC,IACLH,QAAQC,IAAIE,GACZT,GAAW,CAAC,IAGhBL,OAASG,S,IA7Bb,IAAIE,EAAU,EAiCd,SAASG,EAAcJ,EAAUJ,GAC/B,OAAO,IAAIe,SAAQ,CAACC,EAASC,KAC3BC,YAAW,KACaC,KAAKC,SAAW,GAGpCJ,EAAQ,uBAAqBZ,QAAiBJ,OAG5CiB,EAAK,sBAAoBb,QAAeJ,MAAU,GAGtDA,EAAM,G","sources":["src/js/03-promises.js"],"sourcesContent":["const refs = {\n  formEl: document.querySelector('.form'),\n  delayEl: document.querySelector('[name=delay]'),\n  stepEl: document.querySelector('[name=step]'),\n  amountEl: document.querySelector('[name=amount]'),\n}\n\nrefs.formEl.addEventListener('submit', formSubmit)\nlet counter = 0;\n\nfunction formSubmit(ev) {\n  ev.preventDefault();\n  delay = Number(refs.delayEl.value);\n  delayStep = Number(refs.stepEl.value);\n  position = refs.amountEl.value;\n\n  if (counter < 0) {\n    return;\n  }\n  counter -= position;\n\n  if (delay <= 0 || delayStep < 0 || position < 0) {\n    alert('Заповніть поля корректними значеннями');\n    return\n  }\n\n  for (let i = 1; i <= position; i++) {\n    createPromise(i, delay)\n      .then(x => {\n        console.log(x);\n        counter += 1;\n      })\n      .catch(y => {\n        console.log(y)\n        counter += 1;\n      });\n\n    delay += delayStep;\n  }\n}\n\nfunction createPromise(position, delay) {\n  return new Promise((resolve, reject) => {\n    setTimeout(() => {\n      const shouldResolve = Math.random() > 0.3;\n\n      if (shouldResolve) {\n        resolve(`✅ Fulfilled promise ${position} in ${delay}ms`);\n      }\n      else {\n        reject(`❌ Rejected promise ${position} in ${delay}ms`);\n      }\n    },\n      delay);\n  })\n}"],"names":["$47d4ff9957288465$var$refs","formEl","document","querySelector","delayEl","stepEl","amountEl","addEventListener","ev","preventDefault","delay","Number","value","delayStep","position","$47d4ff9957288465$var$counter","alert","i","$47d4ff9957288465$var$createPromise","then","x","console","log","catch","y","Promise","resolve","reject","setTimeout","Math","random"],"version":3,"file":"03-promises.06bca900.js.map"}